<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="stylesheets/main.css">
</head>
<body>

  <div class="float-up" id="task">

    <div>
      <a href="/">
        <button type="button" class="btn btn-outline-success">
          ホーム画面
        </button>
      </a>
    </div>
    
    <div id="task-all">
      <!-- タブメニュー -->
      <div class="tab-menu">
        <button type="button" class="tab-button active btn btn-outline-success">
          タスク
        </button>
        <button type="button" class="tab-button btn btn-outline-success">
          固定タスク
        </button>
      </div>
  
      <!-- タブ1: タスク -->
      <div class="tab-content" id="tab1" style="display: block;">
        <div class="add-btn"><button id="js-add-btn-1"><i class="bi bi-plus-square"></i></button></div>
        
        <div class="all-task-box">
          <% if(task.length > 0) { %>
            <% for (let i=0; i < task.length; i++) { %>
  
              <div class="task">
                <div>
                  <p><%= task[i].name %></p>
                  <p><%= task[i].category %></p>
                  <p>優先度：<%= task[i].priority %></p>
                  <p>疲労度：<%= task[i].fatigue %></p>
                </div>
              </div>
  
            <% } %>
          <% } %>
        </div>
      </div>
  
      <!-- タブ2: 固定タスク -->
      <div class="tab-content" id="tab2">
        <div class="add-btn"><button id="js-add-btn-2"><i class="bi bi-plus-square"></i></button></div>
        
        <div class="all-task-box">
          <% if(fixedTask.length > 0) { %>
            <% for (let i=0; i < fixedTask.length; i++) { %>
  
              <div class="task">
                <div>
                  <p><%= fixedTask[i].name %></p>
                  <p><%= fixedTask[i].category %></p>
                  <p>優先度：<%= fixedTask[i].priority %></p>
                  <p>疲労度：<%= fixedTask[i].fatigue %></p>
                </div>
              </div>
  
            <% } %>
          <% } %>
        </div>
    </div>






  <!-- タスク追加画面 -->
    <!-- タスク追加画面 -->
    <div id="js-task-add-container-1" class="hidden">
      <div id="task-add">
        <div id="task-add-inner" class="float-up">
          <button id="js-close-btn1">戻る</button>
          
          <p>タスク</p>

          <form class="form-box" method="post" action="/task/task-add">
            <label for="taskName">タスク名</label>
            <input class="input" type="text" name="taskName" required><br>

            <label for="category">カテゴリー</label>
            <select class="input" id="category" name="category" required>
              <option value="仕事">仕事</option>
              <option value="勉強">勉強</option>
              <option value="家事">家事</option>
              <option value="健康">健康</option>
              <option value="その他">その他</option>
            </select><br>

            <label for="priorityLevel">優先度:</label>
            <output id="priorityOutput" value="1">1</output>
            <input class="input" type="range" name="priority" id="priorityRange" min="1" max="3" value="1" oninput="priorityOutput.value = priorityRange.value"><br>

            <label for="fatigueLevel">疲労度:</label>
            <output id="fatigueOutput" value="1">1</output>
            <input class="input" type="range" name="fatigue" id="fatigueRange" min="1" max="3" value="1" oninput="fatigueOutput.value = fatigueRange.value"><br>

            <label for="memo">メモ</label>
            <textarea class="input" rows="4" name="memo"></textarea><br>

            <input class="submit" type="submit" value="決定">

          </form>

        </div>
      </div>
    </div>

    <!-- 固定タスク追加 -->
    <div id="js-task-add-container-2" class="hidden">
      <div id="task-add">
        <div id="task-add-inner" class="float-up">

          <button id="js-close-btn2">戻る</button>

          <p>固定タスク</p>

          <form class="form-box" method="post" action="/task/task-Fixed-add">
            <label for="taskName">タスク名</label>
            <input class="input" type="text" name="taskName" required><br>

            <label for="category">カテゴリー</label>
            <select class="input" id="category" name="category" required>
              <option value="">-- 選択してください --</option>
              <option value="仕事">仕事</option>
              <option value="勉強">勉強</option>
              <option value="家事">家事</option>
              <option value="健康">健康</option>
              <option value="その他">その他</option>
            </select><br>

            <label for="priorityLevel">優先度:</label>
            <output id="priorityOutput" value="1">1</output>
            <input class="input" type="range" name="priority" id="priorityRange" min="1" max="3" value="1" oninput="priorityOutput.value = priorityRange.value"><br>

            <label for="fatigueLevel">疲労度:</label>
            <output id="fatigueOutput" value="1">1</output>
            <input class="input" type="range" name="fatigue" id="fatigueRange" min="1" max="3" value="1" oninput="fatigueOutput.value = fatigueRange.value"><br>

            <label for="memo">メモ</label>
            <textarea class="input" rows="4" name="memo"></textarea><br>

            <input class="submit" type="submit" value="決定">

          </form>

        </div>
      </div>
    </div>

  </main>
  
  <script src="javascripts/task.js"></script>
</body>
</html>